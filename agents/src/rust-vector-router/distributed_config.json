{
  "distributed_network": {
    "version": "1.0.0",
    "cluster_name": "claude-agent-cluster",
    "local_node": {
      "node_id": 1,
      "name": "node-1",
      "hostname": "localhost",
      "bind_address": "127.0.0.1",
      "bind_port": 8801,
      "availability_zone": "az-1",
      "region": "local",
      "data_center": "dc-1"
    },
    "cluster_nodes": [
      {
        "node_id": 1,
        "name": "node-1",
        "hostname": "node1.cluster.local",
        "endpoints": [
          {
            "type": "tcp",
            "address": "127.0.0.1",
            "port": 8801,
            "secure": true,
            "bandwidth_bps": 10737418240,
            "latency_us": 100
          }
        ],
        "voting": true,
        "availability_zone": "az-1",
        "region": "local"
      },
      {
        "node_id": 2,
        "name": "node-2",
        "hostname": "node2.cluster.local",
        "endpoints": [
          {
            "type": "tcp",
            "address": "127.0.0.2",
            "port": 8802,
            "secure": true,
            "bandwidth_bps": 10737418240,
            "latency_us": 100
          }
        ],
        "voting": true,
        "availability_zone": "az-1",
        "region": "local"
      },
      {
        "node_id": 3,
        "name": "node-3",
        "hostname": "node3.cluster.local",
        "endpoints": [
          {
            "type": "tcp",
            "address": "127.0.0.3",
            "port": 8803,
            "secure": true,
            "bandwidth_bps": 10737418240,
            "latency_us": 120
          }
        ],
        "voting": true,
        "availability_zone": "az-2",
        "region": "local"
      },
      {
        "node_id": 4,
        "name": "node-4",
        "hostname": "node4.cluster.local",
        "endpoints": [
          {
            "type": "tcp",
            "address": "127.0.0.4",
            "port": 8804,
            "secure": true,
            "bandwidth_bps": 10737418240,
            "latency_us": 150
          }
        ],
        "voting": true,
        "availability_zone": "az-2",
        "region": "local"
      },
      {
        "node_id": 5,
        "name": "node-5",
        "hostname": "node5.cluster.local",
        "endpoints": [
          {
            "type": "tcp",
            "address": "127.0.0.5",
            "port": 8805,
            "secure": true,
            "bandwidth_bps": 10737418240,
            "latency_us": 80
          }
        ],
        "voting": false,
        "role": "observer",
        "availability_zone": "az-3",
        "region": "local"
      }
    ]
  },
  "raft_consensus": {
    "election_timeout_min_ms": 150,
    "election_timeout_max_ms": 300,
    "heartbeat_interval_ms": 50,
    "append_entries_batch_size": 256,
    "log_compaction_threshold": 10000,
    "snapshot_threshold": 50000,
    "max_log_size_mb": 512,
    "sync_writes": true,
    "leadership_transfer_timeout_ms": 5000,
    "pre_vote_enabled": true,
    "leadership_lease_ms": 500
  },
  "load_balancing": {
    "default_algorithm": "adaptive",
    "algorithms": {
      "round_robin": {
        "enabled": true
      },
      "least_loaded": {
        "enabled": true,
        "cpu_weight": 0.4,
        "memory_weight": 0.3,
        "network_weight": 0.2,
        "queue_weight": 0.1
      },
      "latency_based": {
        "enabled": true,
        "latency_weight": 0.7,
        "availability_weight": 0.3
      },
      "adaptive": {
        "enabled": true,
        "latency_weight": 0.4,
        "load_weight": 0.3,
        "availability_weight": 0.3,
        "moving_average_window": 100
      },
      "consistent_hash": {
        "enabled": true,
        "virtual_nodes_per_physical": 100,
        "hash_function": "fnv1a"
      }
    },
    "health_monitoring": {
      "check_interval_ms": 1000,
      "failure_threshold": 3,
      "recovery_threshold": 5,
      "timeout_ms": 5000
    },
    "connection_pooling": {
      "enabled": true,
      "min_connections_per_node": 2,
      "max_connections_per_node": 16,
      "idle_timeout_ms": 300000,
      "connection_timeout_ms": 5000
    },
    "bandwidth_optimization": {
      "enabled": true,
      "flow_control_window": 1024,
      "congestion_threshold": 0.85,
      "adaptive_batching": true,
      "compression_threshold": 1024
    }
  },
  "service_discovery": {
    "multicast_group": "239.255.42.99",
    "multicast_port": 8899,
    "unicast_port": 8900,
    "gossip_port": 8901,
    "announcement_interval_ms": 5000,
    "health_check_interval_ms": 2000,
    "gossip_interval_ms": 1000,
    "node_timeout_ms": 15000,
    "gossip_fanout": 3,
    "protocols": ["multicast", "gossip", "dns-sd"]
  },
  "network_partition": {
    "detection_algorithm": "hybrid",
    "split_brain_protection": true,
    "min_cluster_size": 2,
    "partition_timeout_ms": 30000,
    "suspicion_threshold": 3,
    "confirmation_threshold": 5,
    "recovery_threshold": 3,
    "quorum_size": 3,
    "geographic_distribution": {
      "enabled": true,
      "availability_zones": [
        {
          "zone_id": 1,
          "zone_name": "az-1",
          "region": "local",
          "min_nodes": 2
        },
        {
          "zone_id": 2,
          "zone_name": "az-2", 
          "region": "local",
          "min_nodes": 1
        },
        {
          "zone_id": 3,
          "zone_name": "az-3",
          "region": "local", 
          "min_nodes": 1
        }
      ]
    }
  },
  "security": {
    "tls": {
      "enabled": true,
      "protocol_version": "1.3",
      "cert_file": "/etc/distributed-agents/certs/node.crt",
      "key_file": "/etc/distributed-agents/certs/node.key",
      "ca_file": "/etc/distributed-agents/certs/ca.crt",
      "cipher_suites": [
        "TLS_AES_256_GCM_SHA384",
        "TLS_CHACHA20_POLY1305_SHA256", 
        "TLS_AES_128_GCM_SHA256"
      ],
      "verify_peer": true,
      "verify_hostname": true,
      "session_timeout": 3600,
      "cert_rotation": {
        "enabled": true,
        "check_interval_hours": 24,
        "renew_before_expiry_hours": 168
      }
    },
    "authentication": {
      "mutual_tls": true,
      "node_certificates": true,
      "certificate_validation": true
    },
    "encryption": {
      "at_rest": false,
      "in_transit": true,
      "key_rotation_hours": 168
    }
  },
  "performance": {
    "targets": {
      "throughput_msg_sec": 4200000,
      "latency_p99_ns": 250000,
      "latency_p95_ns": 150000,
      "latency_p50_ns": 50000,
      "bandwidth_utilization": 0.8,
      "cpu_utilization": 0.85,
      "memory_utilization": 0.75
    },
    "optimization": {
      "numa_aware": true,
      "cpu_affinity": true,
      "huge_pages": true,
      "zero_copy": true,
      "vectorization": true,
      "prefetching": true,
      "batch_processing": true
    },
    "monitoring": {
      "enabled": true,
      "metrics_interval_ms": 1000,
      "alert_thresholds": {
        "high_latency_ns": 500000,
        "low_throughput_msg_sec": 1000000,
        "high_error_rate": 0.01,
        "high_cpu_utilization": 0.95,
        "high_memory_utilization": 0.90
      }
    }
  },
  "threading": {
    "network_threads": 16,
    "consensus_threads": 4,
    "worker_threads": 32,
    "io_threads": 8,
    "cpu_affinity": {
      "enabled": true,
      "network_cores": [0, 1, 2, 3],
      "consensus_cores": [4, 5],
      "worker_cores": [6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23],
      "io_cores": [24, 25, 26, 27]
    },
    "thread_priorities": {
      "consensus": 90,
      "network": 85,
      "worker": 50,
      "io": 60
    }
  },
  "memory": {
    "numa_policy": "local",
    "huge_pages": {
      "enabled": true,
      "size": "2MB",
      "reserve_count": 1024
    },
    "allocators": {
      "message_pool_size": 65536,
      "connection_pool_size": 1024,
      "buffer_pool_size": 8192
    },
    "garbage_collection": {
      "enabled": false,
      "interval_ms": 60000,
      "threshold_mb": 512
    }
  },
  "networking": {
    "protocols": ["tcp", "udp"],
    "tcp": {
      "nodelay": true,
      "keepalive": true,
      "keepalive_idle": 60,
      "keepalive_interval": 10,
      "keepalive_probes": 3,
      "send_buffer_size": 4194304,
      "recv_buffer_size": 4194304,
      "max_connections": 10000,
      "backlog": 1024
    },
    "udp": {
      "send_buffer_size": 16777216,
      "recv_buffer_size": 16777216,
      "max_packet_size": 65536
    },
    "epoll": {
      "max_events": 1024,
      "timeout_ms": 10,
      "edge_triggered": true
    }
  },
  "logging": {
    "level": "info",
    "format": "json",
    "output": [
      {
        "type": "file",
        "path": "/var/log/distributed-agents/cluster.log",
        "rotation": {
          "enabled": true,
          "max_size_mb": 100,
          "max_files": 10
        }
      },
      {
        "type": "syslog",
        "facility": "local0"
      }
    ],
    "categories": {
      "consensus": "info",
      "networking": "warn",
      "load_balancing": "info",
      "service_discovery": "info",
      "security": "info",
      "performance": "debug"
    }
  },
  "storage": {
    "data_directory": "/var/lib/distributed-agents",
    "log_directory": "/var/log/distributed-agents", 
    "wal_directory": "/var/lib/distributed-agents/wal",
    "snapshot_directory": "/var/lib/distributed-agents/snapshots",
    "sync_writes": true,
    "compression": "lz4",
    "backup": {
      "enabled": true,
      "interval_hours": 24,
      "retention_days": 30,
      "destination": "/backup/distributed-agents"
    }
  },
  "metrics": {
    "enabled": true,
    "collection_interval_ms": 1000,
    "exporters": [
      {
        "type": "prometheus",
        "endpoint": "0.0.0.0:9090",
        "path": "/metrics"
      },
      {
        "type": "statsd",
        "host": "localhost",
        "port": 8125
      }
    ],
    "custom_metrics": [
      "consensus_leader_elections_total",
      "network_partition_events_total",
      "load_balancer_decisions_total",
      "message_throughput_per_second",
      "message_latency_histogram"
    ]
  },
  "debugging": {
    "enabled": false,
    "profiling": {
      "enabled": false,
      "cpu_profile_duration_sec": 30,
      "memory_profile_interval_sec": 60
    },
    "tracing": {
      "enabled": false,
      "sample_rate": 0.001,
      "endpoint": "http://jaeger-collector:14268/api/traces"
    }
  }
}