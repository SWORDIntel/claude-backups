================================================================================
  HARDCODED PATHS FIX - EXECUTIVE SUMMARY
================================================================================
Generated: 2025-10-11
Location: /home/john/claude-backups

QUICK FACTS
-----------
Total Python files with hardcoded paths: 5
Critical severity: 5 (all actively used)
Estimated fix time: 15 minutes (automated)
Risk level: LOW (all have fallback mechanisms)

FILES REQUIRING FIXES
---------------------
1. agents/src/python/DISASSEMBLER_impl.py
   Lines: 170-171
   Issue: Hardcoded ULTRATHINK integration paths
   Fix: Dynamic project root detection

2. agents/src/python/initialize_git_intelligence.py
   Line: 374
   Issue: Hardcoded shadowgit path
   Fix: Path.home() replacement

3. agents/src/python/npu_fallback_compiler.py
   Line: 949
   Issue: Hardcoded default source directory
   Fix: Dynamic source directory detection

4. agents/src/python/npu_binary_distribution_coordinator.py
   Lines: 153, 157
   Issue: Hardcoded NPU bridge source paths
   Fix: Helper function for dynamic detection

5. agents/src/python/claude_agents/implementations/language/python_security_executor.py
   Lines: 51-56
   Issue: Hardcoded ULTRATHINK integration paths
   Fix: Dynamic project root + Path.home()

HOW TO FIX
----------
Option 1 - Automated (Recommended):
    cd /home/john/claude-backups
    ./fix_hardcoded_paths.sh

Option 2 - Manual:
    Read HARDCODED_PATHS_FIX_REPORT.md for detailed instructions
    Apply sed commands one by one

WHAT THE FIX DOES
-----------------
✓ Creates backups of all files before modification
✓ Adds helper functions to dynamically find paths
✓ Replaces hardcoded paths with portable alternatives
✓ Tests Python syntax after changes
✓ Verifies no hardcoded paths remain

BACKUP LOCATION
---------------
Backups saved to: backups/hardcoded-paths-TIMESTAMP/
(Automatic on script run)

VERIFICATION COMMANDS
---------------------
# Check for remaining hardcoded paths
grep -r "/home/john" agents/src/python/*.py | grep -v deprecated

# Test Python syntax
cd agents/src/python
python3 -m py_compile DISASSEMBLER_impl.py
python3 -m py_compile initialize_git_intelligence.py
python3 -m py_compile npu_fallback_compiler.py
python3 -m py_compile npu_binary_distribution_coordinator.py
python3 -m py_compile claude_agents/implementations/language/python_security_executor.py

# Test imports
python3 -c "from agents.src.python import DISASSEMBLER_impl"

TECHNICAL APPROACH
------------------
All fixes use one of three strategies:

1. Path.home() - For user-specific paths like ~/.claude
   Example: Path.home() / ".claude" / "workspace"

2. find_project_root() - For project-relative paths
   Walks up directory tree until finding markers (hooks/, .git/)
   Example: _PROJECT_ROOT / "hooks" / "ghidra-integration.sh"

3. Dynamic detection - For source directories
   Searches relative paths and falls back to sensible defaults
   Example: Path(__file__).parent.parent / "rust" / "npu_bridge"

WHY THIS MATTERS
----------------
✓ Portability: Code works on any system with any username
✓ Maintainability: No need to edit paths when moving code
✓ Team collaboration: Other developers can use without changes
✓ CI/CD: Automated builds work without path configuration
✓ Deployment: Can deploy to different environments easily

RELATED FILES
-------------
- HARDCODED_PATHS_FIX_REPORT.md (17KB) - Detailed fix instructions
- fix_hardcoded_paths.sh (9.5KB) - Automated fix script

SCRIPT FILES
------------
Note: Found 100+ shell scripts with hardcoded paths, but most are:
- Test files (safe to ignore)
- Deprecated configs (archived)
- Historical snapshots (archive)

Priority scripts to fix later:
- config/npu_environment.sh
- database/activate_learning_integration.sh
- database/deploy_persistent_learning_system.sh
- hardware/fixes/fix_learning_sudo.sh

NEXT STEPS
----------
1. Run: ./fix_hardcoded_paths.sh
2. Review output for any errors
3. Test imports and basic functionality
4. Commit changes: git commit -m "Fix hardcoded paths for portability"
5. Optional: Fix priority shell scripts

ROLLBACK INSTRUCTIONS
---------------------
If something goes wrong:

cd /home/john/claude-backups
cp backups/hardcoded-paths-TIMESTAMP/*.py agents/src/python/
cp backups/hardcoded-paths-TIMESTAMP/python_security_executor.py \
   agents/src/python/claude_agents/implementations/language/

CONTACT
-------
Questions? Check the detailed report:
    cat HARDCODED_PATHS_FIX_REPORT.md

================================================================================
Ready to fix? Run: ./fix_hardcoded_paths.sh
================================================================================
